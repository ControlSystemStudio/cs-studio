<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" >

<head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="content-type" />
<title>SDS Actions</title>
</head>

<body>
<h1>SDS Action Data</h1>
<p>
In SDS there are three kinds of action data that can be added to a widget. <br /> <br /> 
<img alt="Action Data Property Window" src="./image/sds_action_data.png" /> <br /> <br />
<img alt="Open view as Shell" src="./image/sds_action_data_shell.png" />
  Opens a display in a new shell that is specified in the action <br />
<img alt="Open view as View" src="./image/sds_action_data_view.png" />
  Opens a display in a new view that is specified in the action  <br /> 
<img alt="Send a Value" src="./image/sds_action_data_send.png" />
  Writes a value to a process variable.  <br />
</p>

<p align="justify">
The number of actions for a widget is not limited. In the execution mode of a display the cursor icon
<img alt="Action Data Cursor" src="./image/sds_action_data_cursor.png" /> 
indicates that the underlying widget holds actions. By clicking the right mouse button all
actions of the widget pops up.
</p>

<p align="justify">
In the next section is an example of some actions. In the example
are only process variables used with the prefix 'local://' to be
independent from a control system. Because the following topics are related to actions we will explain them
also in the example displays:<br /> <br />

<b>Inheritance of Actions: </b>An action that is defined in an upper
 level is available for all widgets beneath the level.<br />
<b>Group Container: </b>Define a subset of widgets as a group to
 demonstrate inheritance of actions.<br />
<b>Alias: </b>Aliases are important for actions to call new displays
 with parameters.<br />
</p>

<h2>Creating SDS actions</h2>
<p align="justify">
The example consists of three display. Two of them are 'calling'
displays that invokes the 'called' display with different parameters.
The displays are integrated in the 'sample displays' of SDS. You can
install them via menu 'CSS' &rarr; 'Display' &rarr; 'Install Synoptic
Display Studio Sample Displays'. <br />
<img alt="Action Data Property Window"
    src="./image/sds_empty_action_data1_display.png" align="right"
    hspace="50" />
</p>

<h3>Calling Display 1</h3>
<p align="justify" style="border: thin solid green;">
Create a display with the name 'Calling Display 1'. Add the widgets
'Label', 'Polyline' and 'Ellipse' to the display. Set for the 'Label'
the property 'Value Type' to 'Text Value' that the widget is able to
handle strings and configure the dynamic attributes:
<img alt="Action Data Property Window"
    src="./image/sds_disp1_input1_label.png" />
<br /> <br />
Select 'Polyline' and double click on the property 'Action Data' to add
new actions. Add Action 'Open View' and set the properties as follows:
<img alt="Action Data Property Window" src="./image/sds_addAction.png" hspace="50" />
<br clear="all" /> <br />
The display configured in 'Display' will be opened as a view without
passing any arguments (property 'aliases' is empty). <br />

<img alt="Action Data Property Window" src="./image/sds_disp1_view_action.png" hspace="50" />
<br clear="all" />
Add Action 'Open Shell' and set the properties as follows: <br />
<img alt="Action Data Property Window" src="./image/sds_disp1_shell_action.png" hspace="50" />
</p>

<div style="text-indent: 40pt;">    
The display configured in'Display' will be opened as a shell 
with the argument 'send' (alias) and 'local://out1' (value).
</div>
<p>
<br />
Add Action 'Send' and set the properties as follows:
<br />
<img alt="Action Data Property Window"
    src="./image/sds_disp1_send_action.png" hspace="50" />
<br clear="all" />
<br />
</p>

<p align="justify">To send the value you have to configure an output channel for 'Action
Data' in the 'Dynamics Wizard',
<img alt="Action Data Property Window"
    src="./image/sds_disp1_output_channel1.png" hspace="5" />
as described in section
<a href="sds_dynamic_attributes.html">SDS Dynamic Attributes</a>.
<br clear="all" />
<br />
Select 'Ellipse' and add Action 'Send' as follows:<br />
<img alt="Action Data Property Window" src="./image/sds_disp1_send_action_moon.png" hspace="50" /> <br />
  Configure the same output channel for 'Action Data' like in 'Polyline': 
<img alt="Action Data Property Window" src="./image/sds_disp1_output_channel1.png" hspace="50" /> <br />
<br clear="all" />
<br />
</p>

<p align="justify">
Select 'Polyline' and 'Ellipse', click right button and select 'Create a
group'. To select the group you have to click on the free space between
the widgets that belongs to the group. In the property view of the group
you can see and edit all properties that have the widgets in common.
Now add an action for the group that you can also call from the widgets.
Select the group and add action 'Send':<br />
<img alt="Action Data Property Window" src="./image/sds_disp1_send_action_group.png" hspace="50" /> <br />
 and configure the following dynamisation:
<img alt="Action Data Property Window" src="./image/sds_disp1_output_channel1.png" />
<img alt="Action Data Property Window" src="./image/sds_empty_action_data2_display.png" align="right" hspace="50" />
</p>    

<h3>Calling Display 2</h3>
<p>
Create a display with the name 'Calling Display 2'. Add the widgets
'Label', 'Polyline' and 'Ellipse' to the display. Set for the 'Label'
the property 'Value Type' to 'Text Value' and configure the dynamic
attributes: <img alt="Action Data Property Window"
    src="./image/sds_disp2_output.png" hspace="5" />
<br />
Set the parameter for Polyline and Ellipse like in the previous display:
<br />
<br />
Polyline View Action:
<br />
<img alt="Action Data Property Window"
    src="./image/sds_disp2_polyline_action_view.png" hspace="50" />
<br />
<br />
Polyline Shell Action:
<br />
<img alt="Action Data Property Window"
    src="./image/sds_disp2_action_alias.png" hspace="50" />
<br />
<br />
Polyline Send Action:
<br />
<img alt="Action Data Property Window"
    src="./image/sds_disp2_send_action.png" hspace="50" />
<br />
<br />
Set the dynamisation for 'Action Data' to
<img alt="Action Data Property Window"
    src="./image/sds_disp2_polyline_action_dyn.png" hspace="5" />
<br />
<br />
Ellipse Send Action:
<br />
<img alt="Action Data Property Window"
    src="./image/sds_disp2_ellipse_send_action.png" hspace="50" />
<br />
<br />
Set the dynamisation for 'Action Data' to
<img alt="Action Data Property Window"
    src="./image/sds_disp2_ellipse_dyn_action.png" hspace="5" />
<br />
<br />
Group (Polyline and Ellipse) Send Action:
<br />
<img alt="Action Data Property Window"
    src="./image/sds_disp2_group_send_action.png" hspace="50" />
<br />
<br />
Set the dynamisation for 'Action Data' to
<img alt="Action Data Property Window"
    src="./image/sds_disp2_ellipse_dyn_action.png" hspace="5" />
<br />
<br />
<br />

<img alt="Action Data Property Window"
    src="./image/sds_empty_called_display.png" align="right" hspace="50" />
</p>

<h3>Called Display</h3>
<p>
The 'Called Display' is opened by the other displays and the 'Label'
receives the data sent by the actions.
<br />
<br />
Set for the 'Label' an alias as shown in the follwing screenshot:
<br />
<img alt="Action Data Property Window" src="./image/sds_alias.png" hspace="50" />
<br />
<br />
The dynamisation of the property 'Text Value' for the 'Label' is
<img alt="Action Data Property Window"
    src="./image/sds_disp3_label_dyn.png" hspace="5" />
<br />
</p>

<h2>Using SDS actions</h2>
<p>
<img alt="Popup Menu" src="./image/sds_action_menu_star.png" hspace="50" align="right" />
</p>
<p align="justify">The simplest example for an action is to call a view or shell without any
parameters. Right click on file 'Calling Display1' &rarr; 'Run As Shell'. If you click now with the right
mouse button on a widget you see the available actions in a popup menu (see figure). The widgets inherits
one action from the group. Execute the action 'Open as view without aliases' by right click 
on the polyline and select the action. The display 'Called display' will be opened as a view
in CSS.
<br />
<br />
To reuse the same display for different cases it can be called parametrized. Right click on
the polyline in the running shell 'Calling Display 1' and select the action 'Open as Shell
with aliases'.
<br />
Open 'Calling display 2': Right click on the file 'Calling display 2' &rarr;
'Run as Shell'. Right click on the polyline in the running shell 'Calling Display 2' and 
select the action 'Open as Shell with aliases'.
<br />
The 'Called display' is executed in two
shells with different parameters. If you now select an action 'Send a value' from polyline,
ellipse or group you see the value in the label of the calling display. The label of the
called displays shows the value that is set in the called display because the called display
is parametrized with the appropriate channel. The action 'Call As Shell' sets via the
property 'alias' an alias name for the called display. The called display has to configure
the property 'alias' for the widgets to receive the paramter. To write the value of a 'Send
action' to a channel, you have to dynamise the property 'Action Data' like in the example.
The channel that is defined for the 'Output channel' is used from the 'Send action'.   
<br />
<br clear="all" />
</p>

<p>
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
</p>
</body>
</html>