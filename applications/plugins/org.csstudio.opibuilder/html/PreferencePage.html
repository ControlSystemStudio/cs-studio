<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=Cp1252"/>
    <link rel="stylesheet" href="default.css" type="text/css" />
    <title>
      Setting Preferences
    </title>
  </head>
  <body>

    <h2>
     Setting Preferences
    </h2>

    <h3>
     Preference Page
    </h3>
    <p>
    All the preferences of BOY can be set in the preference page, which can be opened via menu: 
    <b>CSS->Preferences...->CSS Applications->Display->BOY</b>.
    </p>
    <p>
         <img src="./img/Preference.gif"/>      
    </p>
    <h3>Common Preferences</h3>
    <ul>    
    <li><b>color file: </b><p>The path of the color definition file for <a href="Color_Font_Macro.html">Color Macro
    </a>. The path can be a workspace path, for example, <code>/BOY Examples/color.def</code>, a local
    file system path, for example, <code>C:\Users\xihui\color.def</code>, a URL path, for example,
    <code>http://www.xxx.com/main.opi</code> 
    or a platform URL path <code>platform:/plugin/org.my.plugin/resources/color.def</code>. Platform
    URL path is used to locate resources inside a plugin.</p>
    
    
    <p><b>Tip: </b>In BOY, without particular declaration, 
    you can use these four type of paths at everywhere if a path is needed. 
    For example, if you set a URL path <code>http://www.xxx.com/main.opi</code> for the top OPIs
    preference, you will be able to run this OPI directly from Top OPIs button. 
    If you set a URL Path for the image wigdget, you will be able to display image from web directly.</p>
    
    <p>Preference key: <code>color_file</code></p>
    
    </li>
    
    <li><b>font file: </b><p>The font definition file for <a href="Color_Font_Macro.html">Font Macro</a>.</p>
     <p>Preference key: <code>font_file</code></p>
    </li>
    
    <li><b>OPI Search Path:  </b><p>The path which is used to search OPI files if the given OPI path is a relative path
    and it doesn't exist on the made up absolute path neither. For example, you can put an OPI file name <code>abc.opi</code> or 
    a relative path <code>abc/def/my.opi</code>for 
    <code>Open OPI Action, Top OPIs, Schema OPI and so on</code>. If this OPI file cannot be found as a relative path to the OPI file,
    it will search the <code>OPI Search Path</code> and return the first one found on the search path. It supports workspace path,
    local file system path and URL path. The pathes are separated by the delimiter <code>|</code>, for example
    <pre class = "example_code">/BOY Examples/|C:\users\5hz\Desktop\|http://ics-srv-web2.sns.ornl.gov/opi/</pre></p>
      <p>Preference key: <code>opi_search_path</code></p></li>
    
    <li><b>Top OPIs: </b><p>The OPIs which will be listed in the "Top OPIs" drop down button. 
    To add macros input for the OPI, append "macroName=macroValue" to path and separate them by commas.
    To give a different menu text rather than using file name, append a macro "Alias=The Menu Name".
    It is also possible to specify the OPI open position by giving macro <code>Position</code>. 
    The available positions are: 
    <ul>
    <li> <code>Left</code>: Left View</li>
    <li> <code>Right</code>: Right View</li>
    <li> <code>Top</code>: Top View</li>
    <li> <code>Bottom</code>: Bottom View</li>
    <li> <code>Default_View</code>: Default View</li>
    <li> <code>Detached</code>: Detached View</li>
    </ul>
    <p>If macro <code>Position</code> is not set or is not in one of above positions, it will be opened in editor area.</p>
    <p>Multiple top OPIs are separated by <code>|</code>. For example:
    </p> 
    <pre class = "example_code">"/BOY Examples/main.opi", "macro1 = hello", "macro2 = hello2", "Alias=BOY Examples", "Position=Left"| "BOY Examples/1_2_WidgetExamples.opi"</pre>    
    
    <p><img src="./img/top_opis.png"></p>
    
    
     <p>Preference key: <code>top_opis</code></p>
    </li>
    
    <li><a href="OPI Probe.html"><b>Probe OPI</b> </a>
    <p>Preference key: <code>probe_opi</code></p>
    </li>
    
    <li><b>No-Editing mode: </b><p>OPI files are not allowed to be opened from OPI editor. 
    They will always be opened from OPI runtime.</p>
    <p>Preference key: <code>no_edit</code></p></li>
    
    <li><b>Disable Advanced Graphics</b><p>Disable the advanced graphics capability such as Pattern
    and transparency. If this is checked, some 3D widgets will be displayed in 2D effect.</p>
    <p>Preference key: <code>disable_advanced_graphics</code></p></li>
    
    <li><b>Display system output to BOY Console</b>
    <p>If this is checked,system outputs will be redirected to BOY Console. 
    For example, the following codes will print "Hello, World!" to BOY Console.</p>
    <pre class = "example_code">//JavaScript Code
importPackage(Packages.java.lang)
System.out.println("Hello, World!")</pre>
	<pre class = "example_code">#Python code
print "Hello, World"</pre>  
<p>Preference key: <code>display_system_output</code></p>  
    </li>
    
    
    
    </ul>


	
	<h3>OPI Editor Preferences</h3>
	<ul>
	<li><a href="Schema.html"><b>Schema OPI</b> </a>
<p>Preference key: <code>schema_opi</code></p>  
	</li>
	<li><b>Automatically save file before running: </b>
    <p>The file in editing will be automatically saved before running it after you
    hit the run button or pressed <code>Ctrl+G</code>.</p>
    <p>Preference key: <code>auto_save</code></p>
     </li>	
     <li><b>Hidden Widgets</b>
    <p>The widgets that should be hidden from palette. This entry has no GUI entry in
    preference page because it is usually a site wide preference. For example:
    <br><code>hidden_widgets=org.csstudio.opibuilder.widgets.ActionButton|org.csstudio.opibuilder.widgets.TextInput
    </code>
    </p>
    <p>Preference key: <code>hidden_widgets</code></p>
     </li>	
	</ul>
	
	<h3>OPI Runtime Preferences</h3>
	<ul>
	<li>
    <b>Macros: </b><p>Global macros which are available for all OPIs in this CSS instance.</p>
    <p>Preference key: <code>macros</code></p>
    </li>
    
    <li><b>OPI GUI Refresh Cycle (ms): </b><p>The shortest refresh cycle of OPI GUI in millisecond.
    If a PV is updated faster than this cycle, it will be throttled.
    Specify this to longer will help to reduce CPU usage, 
    but it may affect user's experience and may lose some swift changs if refresh cycle is
    longer than PV updating cycle.</p>
    <p>Preference key: <code>opi_gui_refresh_cycle</code></p>
    </li>
    <li><b>Console Popup Level</b><p>In which condition should the console popup. 
	<ul>
    <li><code>Don't Popup</code>, BOY console will never automatically popup.</li>
    <li><code>Only Info</code>, BOY Console will only popup if there is regular information coming to console.</li>
    <li><code>Error, Warning and Info</code>, BOY Console will popup whenever there is error, warning or 
    regular information coming to console.</li>
     </ul>
       <p>Preference key: <code>popup_console</code></p>   
    </li>
    <li><b>PYTHONPATH</b><p>The path for searching Python module files. It only accept workspace path and
    local file system path. Paths are separated by <code>|</code>. For example:</p>
    <pre class="example_code">/MyPyLib/MyModule1|C:\Python27\Lib</pre>
    <p>Preference key: <code>python_path</code></p> 
    </li>
    
	</ul>

	<h3>Product default preferences</h3>
	<p>The default preferences can be set in <code>plugin_customization.ini</code> file
	which is located in the root of the "Product" plugin directory or jar file.
	It is ideally used to provide site-specific default preferences. For example, you can change
	the default BOY preferences in this file with corresponding preference keys:</p>
<pre class="example_code">org.csstudio.opibuilder/color_file=http://your_site.gov/color.def
org.csstudio.opibuilder/font_file=http://your_site.gov/font.def
org.csstudio.opibuilder/opi_gui_refresh_cycle=100
org.csstudio.opibuilder/no_edit=true
org.csstudio.opibuilder/macros="N","North"|"W","West"|"SYS","LLRF"|"SubSys","HPM"
#popup console level, it can be NO_POP, INFO, or ALL
org.csstudio.opibuilder/popup_console=NO_POP 
</pre>
	<p>You can also give a different customization file with the command line option
	<code>-pluginCustomization</code> when starting CSS.</p>

<br>

  </body>
</html>
