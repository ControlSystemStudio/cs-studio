<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=Cp1252"/>
    <link rel="stylesheet" href="../default.css" type="text/css" />
    <link rel="stylesheet" href="../../../PRODUCT_PLUGIN/book.css" type="text/css"></link>
    <title>
     Property Type
    </title>
  </head>
  <body>

    <h2>
      Property Type
    </h2>
    
    
    <p>There are several different type of widget properties, 
    such as Boolean, Double, Color, Font and so on.
    The method  <code>widget.setPropertyValue(prop_id, value)</code> only accepts certain 
    value types corresponding to the property type. Here is the list of the acceptable value types for
    each type of property. <b>Property Value Type</b> is the type of the object returned from
    <code>widget.getPropertyValue(prop_id)</code>.
    </p>
    
    <table BORDER="1" WIDTH="80%" CELLPADDING="3" CELLSPACING="0">
	    <TR BGCOLOR="#CCCCFF" >
			<TD ALIGN="left"><B>Property Type</B></TD>
			<TD ALIGN="left"><B>Example Properties</B></TD>
		</TR>
    	<tr>
    		<td><a href = "#BooleanProperty">Boolean Property</a></td>
    		<td>Enabled, Visible</td>
    	</tr>
    	<tr>
    		<td><a href = "#IntegerProperty">Integer Property</a></td>
    		<td>Height, Width, X, Y</td>
    	</tr>
    	<tr>
    		<td><a href = "#DoubleProperty">Double Property</a></td>
    		<td>Meter.Level HIHI, Meter.Maximum</td>
    	</tr>
    	<tr>
    		<td><a href = "#ComboProperty">Combo Property</a></td>
    		<td>Border Style</td>
    	</tr>
    	<tr>
    		<td><a href = "#StringProperty">String Property</a></td>
    		<td>Name, PV Name, Text</td>
    	</tr>
    	<tr>
    		<td><a href = "#ColorProperty">Color Property</a></td>
    		<td>Background Color, Foreground Color</td>
    	</tr>
    	
    	<tr>
    		<td><a href = "#FontProperty">Font Property</a></td>
    		<td>Font</td>
    	</tr>
    	<tr>
    		<td><a href = "#FilePathProperty">File Path Property</a></td>
    		<td>Image.Image File, Linking Container.OPI File</td>
    	</tr>
    	<tr>
    		<td><a href = "#PointListProperty">PointList Property</a></td>
    		<td>Polyline.Points, Polygon.Points</td>
    	</tr>
    	<tr>
    		<td><a href = "#MacrosProperty">Macros Property</a></td>
    		<td>Macros</td>
    	</tr>
    	<tr>
    		<td><a href = "#ColorMapProperty">ColorMap Property</a></td>
    		<td>IntensityGraph.Color Map</td>
    	</tr>
    </table>

    
<HR>    
    <A NAME="BooleanProperty"><!-- --></A><H3>
Boolean Property</H3>
<DD>
<DL>
<DT><B>Acceptable Value Type</B></DT><DD>boolean</DD><br>
<B>Property Value Type</B><DD>Boolean</DD><br>
<B>Examples:</B>
	<pre class="example_code">
	widget.setPropertyValue("enable", false); 
	widget.setPropertyValue("visible", true); 	</pre>

</DL>
<HR>

    <A NAME="IntegerProperty"><!-- --></A><H3>
Integer Property</H3>
<DD>
<DL>
<DT><B>Acceptable Value Type</B></DT><DD>int, double</DD><br>
<B>Property Value Type</B><DD>Integer</DD><br>
<B>Examples:</B>
	<pre class="example_code">
	widget.setPropertyValue("x", 10); </pre>

</DL>
<HR>


    <A NAME="DoubleProperty"><!-- --></A><H3>
Double Property</H3>
<DD>
<DL>
<DT><B>Acceptable Value Type</B></DT><DD>double, int</DD><br>
<B>Property Value Type</B><DD>Double</DD><br>
<B>Examples:</B>
	<pre class="example_code">
	widget.setPropertyValue("fill_level", 35.6);</pre>

</DL>
<HR>

    <A NAME="ComboProperty"><!-- --></A><H3>
Combo Property</H3>
<DD>
<DL>
<DT><B>Acceptable Value Type</B></DT><DD>int - it is the index of the item in the combo box of the property</DD><br>
<B>Property Value Type</B><DD>Integer</DD><br>
<B>Examples:</B>
	<pre class="example_code">
	//set border style to line style
	widget.setPropertyValue("border_style", 1); </pre>

</DL>



<HR>    
    <A NAME="StringProperty"><!-- --></A><H3>
String Property</H3>
<DD>
<DL>
<DT><B>Acceptable Value Type</B></DT><DD>String - allow macros in string</DD>
<dd>any object(the method <code>toString()</code> will be automatically called)</DD><br>
<B>Property Value Type</B><DD>String</DD><br>
<B>Examples:</B>
	<pre class="example_code">
	widget.setPropertyValue("text", "Hello, World!");</pre>

</DL>
<HR>


<A NAME="ColorProperty"><!-- --></A><H3>
Color Property</H3>
<DD>
<DL>
<DT><B>Acceptable Value Type</B></DT><DD>RGB</DD>
<dd>String(must be predefined in Color Macro file)</DD><br>
<B>Property Value Type</B><DD><a href = "OPIColor.html">OPIColor</a></DD><br>
<B>Examples:</B>
	<pre class="example_code">
	importPackage(Packages.org.csstudio.opibuilder.scriptUtil);
	
	var ORANGE = ColorFontUtil.getColorFromRGB(255,255,0);
	widget.setPropertyValue("foreground_color",ORANGE);
	widget.setPropertyValue("background_color", "Major"); //"Major" is a color macro	
</pre>

</DL>
<HR>

<A NAME="FontProperty"><!-- --></A><H3>
Font Property</H3>
<DD>
<DL>
<DT><B>Acceptable Value Type</B></DT><DD>FontData</DD>
<dd>String(must be predefined in Font Macro file)</DD><br>
<B>Property Value Type</B><DD><a href = "OPIFont.html">OPIFont</a></DD><br>
<B>Examples:</B>
	<pre class="example_code">
	importPackage(Packages.org.csstudio.opibuilder.scriptUtil);
		
	var bigFont = ColorFontUtil.getFont("Times New Roman", 20, 1);
	widget.setPropertyValue("font", bigFont);	
</pre>

</DL>
<HR>

<A NAME="MacrosProperty"><!-- --></A><H3>
Macros Property</H3>
<DD>
<DL>
<DT><B>Acceptable Value Type</B></DT><DD>MacrosInput</DD>
<br>
<B>Property Value Type</B><DD>MacrosInput</DD><br>
<B>Examples:</B>
	<pre class="example_code">
	importPackage(Packages.org.csstudio.opibuilder.scriptUtil);
	var macroInput = DataUtil.createMacrosInput(true);
	macroInput.put("pv", PVUtil.getString(pvs[0]));
	widget.setPropertyValue("macros", macroInput);
</pre>

</DL>
<HR>


<A NAME="FilePathProperty"><!-- --></A><H3>
File Path Property</H3>
<DD>
<DL>
<DT><B>Acceptable Value Type</B></DT><DD>String - allow url start with <code>http://</code> or 
<code>ftp://</code></DD><br>
<dd>org.eclipse.core.runtime.IPath</DD><br>
<B>Property Value Type</B><DD>org.eclipse.core.runtime.IPath</DD><br>
<B>Examples:</B>
	<pre class="example_code">
	//load image from relative path
	widget.getWidgetModel().setPropertyValue("image_file", "../pictures/fish.gif");
	//load image from url
	widget.getWidgetModel().setPropertyValue("image_file", "http://neutrons.ornl.gov/images/sns_aerial.jpg");
	//load image from absolute workspace path
	widget.getWidgetModel().setPropertyValue("image_file", "/BOY Examples/widgets/DynamicSymbols/Scared.jpg");
	//load image from local file system
	widget.getWidgetModel().setPropertyValue("image_file", "C:\\Users\\5hz\\Pictures\\me.gif");	
</pre>
</DL>
<HR>

<A NAME="PointListProperty"><!-- --></A><H3>
PointList Property</H3>
<DD>
<DL>
<DT><B>Acceptable Value Type</B></DT><DD>int[]</DD><br>
<dd>org.eclipse.draw2d.geometry.PointList</DD><br>
<B>Property Value Type</B><DD>org.eclipse.draw2d.geometry.PointList</DD><br>
<B>Examples:</B>
	<pre class="example_code">
	importPackage(Packages.org.csstudio.opibuilder.scriptUtil);
	
	var jsArray = new Array(20,260,34,56,320,230);
	//set the points for a polygon/polyline widget
	widget.setPropertyValue("points", DataUtil.toJavaIntArray(jsArray));	</pre>

</DL>
<HR>


<A NAME="ColorMapProperty"><!-- --></A><H3>
ColorMap Property</H3>
<DD>
<DL>
<DT><B>Acceptable Value Type</B></DT><DD>String, 
which must be one of "JET", "GrayScale", "ColorSpectrum", "Hot", "Cool" and "Shaded". </DD><br>
<B>Property Value Type</B><DD>org.csstudio.swt.widgets.datadefinition.ColorMap</DD><br>
<B>Examples:</B>
	<pre class="example_code">
	importPackage(Packages.org.csstudio.opibuilder.scriptUtil);	
	var value = PVUtil.getString(pvs[0]);			
	widget.setPropertyValue("color_map", value);	</pre>
</DL>
<HR>

<p><b>Actions Property</b> and <b>Script Property</b> are not changeable from script becaues 
they are only loaded once during the initialization of widget.
</p>
<HR>
  
 
  </body>
</html>
