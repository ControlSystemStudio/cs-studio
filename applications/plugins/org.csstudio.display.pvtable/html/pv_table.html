<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <link rel="stylesheet" href="../../PRODUCT_PLUGIN/book.css" type="text/css"></link>
<title>PV Table</title>
</head>
<body>

<body>
<h1>Overview</h1>
<p>
The PV Table provides a tabular view of PV names and their current value with time stamp and alarm state.
</p>
<p>
You can take a "snapshot" of current values, and the table will now highlight rows
where the current value differs from the snapshot.
</p>
<p>
The configuration (PV names, saved value) can be saved and later re-loaded,
see details on the file format described below.
</p>

<img src="pvtable.png"/>


<h2>Adding and Removing PVs</h2>
<p>
Enter new PV names in last row of table, or 'drop' them via drag-and-drop into table.
</p>
<p>
Delete PV names by changing their name to an empty name,
or by selecting one or more PVs and deleting them via the context menu.
</p>


<h2>Restoring PVs</h2>
<p>
The value of PVs can be restored, i.e. the saved value will be written to the PV.
By default, this affects every row of the table, but the check-mark at the start
of each table row can be use to de-select rows.
</p>
<p>
The context menu of the table offers shortcuts to select or de-select the whole table.
</p>


<h2>Tolerance</h2>
<p>
Values are highlighted when they differ from the saved snapshot value by a certain amount.
The currently used tolerance is displayed in the tool-tip of a table row.
This 'tolerance' value can be configured via the context menu of selected table rows.
</p>
<p>
When configuring the 'tolerance', note that it applies to the rows which are
selected in the table via the usual selection mechanism (click on one row, shift-click to select multiple rows, ...).
If no row specific rows are selected to set their tolerance, the tolerance for every row in the table will be updated.
This is independent of the check mark in the first table column which marks rows to be restored by writing
their saved value back to the PVs.
</p>


<h2>File Formats</h2>
<p>
The original PVTable file format uses a ".pvs" extension for its file names.
The files have an XML format which is described by the <file>pv_table.xsd</file>
contained in the PV Table sources.
</p>
<p>
Since version 4.0.0, the PVTable also supports file format
used by the EPICS synApps <code>autosave</code> module,
<a href="http://www.aps.anl.gov/bcda/synApps/autosave/autosave.html">http://www.aps.anl.gov/bcda/synApps/autosave/autosave.html</a>.
Whenever loading or saving a PVTable from a file with a ".sav" extension,
the <code>autosave</code> format will be used.
</p>
<p>
Advantages of the original PVTable ".pvs" file format:
<ul>
<li>Contains global as well as per-element 'tolerance'.</li>
<li>Tracks which rows were selected.</li>
<li>Best for standalone operation of the PVTable.</li>
</ul>
</p>
<p>
Advantages of the <code>autosave</code> ".sav" file format:
<ul>
<li>It can be used by the IOC to load/save settings.</li>
<li>PVTable allows easy comparison of last settings written by IOC against current values.</li>
<li>Best for use together with on-demand save/restore on the IOC.</li>
</ul>
</p>


<h1>History</h1>

<h2>Version 4.0.0 - 2014-09-02</h2>
<ul>
<li>Support *.sav autosave/restore file format.</li>
</ul>


<h2>Version 3.2.1 - 2013-12-05</h2>
<ul>
<li>Context menu entries to select/de-select all rows.</li>
<li>Changing the 'tolerance' can be done for currently selected table rows, or whole model if nothing selected.</li>
<li>Changing the 'tolerance' marks table as changed, so it can be saved.</li>
<li>Changing an item name marks table as changed, so it can be saved.</li>
</ul>


<h2>Version 3.2.0 - 2012-12-05</h2>
<p>
Ported to PVManager, including simpler GUI based on Kunal Schroff's pvmanager.pvtable,
but still supporting snapshot/restore:
</p>
<ul>
<li>No more need to start/stop, always updating current value.</li>
<li>No more 'add' via context menu, simply enter new name to end of table.</li>
<li>PV Names can be edited.</li>
</ul>

<h2>Original, ca. 2006</h2>
<p>
Started as a demo for something similar to XAL 'score'.
</p>

</body>
</html>