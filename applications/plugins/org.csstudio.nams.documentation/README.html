<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="824.47">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; min-height: 14.0px}
    span.s1 {font: 12.0px Helvetica}
    table.t1 {border-collapse: collapse}
    td.td1 {width: 120.0px; border-style: solid; border-width: 1.0px 1.0px 1.0px 1.0px; border-color: #bfbfbf #bfbfbf #bfbfbf #bfbfbf; padding: 0.0px 5.0px 0.0px 5.0px}
    td.td2 {width: 1272.0px; border-style: solid; border-width: 1.0px 1.0px 1.0px 1.0px; border-color: #bfbfbf #bfbfbf #bfbfbf #bfbfbf; padding: 0.0px 5.0px 0.0px 5.0px}
  </style>
</head>
<body>
<h1>New Alarm Management System (NAMS)</h1>
<h2>Package-Benamungen</h2>
<p class="p1">Root aller packages ist <code>org.csstudio.nams</code></p>
<table cellspacing="0" cellpadding="0" class="t1">
  <tbody>
    <tr>
      <th valign="middle" class="td1">
        <p class="p1">Package</p>
      </th>
      <th valign="middle" class="td2">
        <p class="p1">Erl&auml;uterung</p>
      </th>
    </tr>
    <tr>
      <td valign="middle" class="td1">
        <p class="p1"><code>.service.*</code></p>
      </td>
      <td valign="middle" class="td2">
        <p class="p1">Die verschiedenen Services, diese exportieren lediglich Ihre Deklaration und registrieren eine Implementation in der OSGi service registry.</p>
      </td>
    </tr>
    <tr>
      <td valign="middle" class="td1">
        <p class="p1"><code>.service.impl.*</code></p>
      </td>
      <td valign="middle" class="td2">
        <p class="p1">Eine Serviceimplementation die als austauschbar entworfen ist, diese registriert sich via extension am service-Plug in, dieses Plug in exportiert nichts und sollte nicht direkt benutzt werden.</p>
      </td>
    </tr>
    <tr>
      <td valign="middle" class="td1">
        <p class="p1"><code>.common.*</code></p>
      </td>
      <td valign="middle" class="td2">
        <p class="p1">Gemeinsame Bibliotheken und gemeinsam verwendete Datentypen. Kein aktives Verhalten.</p>
      </td>
    </tr>
    <tr>
      <td valign="middle" class="td1">
        <p class="p1"><code>.application.department.*</code></p>
      </td>
      <td valign="middle" class="td2">
        <p class="p1">Die Anwendungen (MessageHandler, Distributor, ...)</p>
      </td>
    </tr>
    <tr>
      <td valign="middle" class="td1">
        <p class="p1"><code>.documentation</code></p>
      </td>
      <td valign="middle" class="td2">
        <p class="p1">Dieses Plug in.</p>
      </td>
    </tr>
  </tbody>
</table>

<!-- ***** Tabelle Beziehungen zwischen Plugins ***** -->
<br>
<h2>Beziehungen zwischen den Plug-ins:</h2>
<table cellspacing="0" cellpadding="0" class="t1">
	<tbody>
	    <tr>
      		<th valign="middle" class="td1">
        		<p class="p1">Plugin</p>
      		</th>
      		<th valign="middle" class="td2">
        		<p class="p1">Erl&auml;uterung</p>
      		</th>
    	</tr>
    	<!-- +++ Plugin org.csstudio.nams.application.department.decision +++ -->
    	<tr>
	      <td valign="middle" class="td1">
	        <p class="p1"><code><b>org.csstudio.nams.application.department.decision</b></code></p>
	        <p>
	        <p class="p1">Abhängigkeiten:
	          <ul>
	          	<li><code>org.eclipse.core.runtime</code></li>
	    		<li><code>org.csstudio.nams.service.logging</code></li>
	    		<li><code>org.csstudio.nams.service.messaging</code></li>
	    		<li><code>org.csstudio.nams.common</code></li>
	    	  </ul>
	    	</p>
	    	
	    	<p>
	        <p class="p1">Exportierte Packages:
	          <ul>
	    		<li><code>keine</code></li>
	    	  </ul>
	    	</p>
	      </td>
	      <td valign="top" class="td2">
	        <p class="p1">Dieses Plug-in löst den alten Filtermanager ab. Das Alarmentscheidungsbüro
	        entscheidet, ob ausgelöste Alarme weitergeleitet werden. Es
	       besteht im Wesentlichen aus Abteilungsleiter, Sachbearbeiter und Assistenz. Durch die Zusammenarbeit
	       dieser, können Alarme verarbeitet, überprüft und versendet bzw. verworfen werden.
	        <p>
	        <p class="p1">Das Alarmentscheidungsbüro ist lediglich für die Entscheidung zuständig, ob Alarme versendet werden oder nicht.
	        Der tatsächlichen Versand der Alarme wird an einer anderer Stelle abgewickelt (@see <code>org.csstudio.nams.service.messaging</code>).
	        </p>
	      </td>
	    </tr>
	    <!-- +++ Plugin org.csstudio.nams.common +++ -->
	    <tr>
	      <td valign="middle" class="td1">
	        <p class="p1"><code><b>org.csstudio.nams.common</b></code></p>
	        <p>
	        <p class="p1">Abhängigkeiten:
	          <ul>
	    		<li><code>org.eclipse.core.runtime</code></li>
	    	  </ul>
	    	</p>
	    	
	    	<p>
	        <p class="p1">Exportierte Packages:
	          <ul>
	    		<li><code>org.csstudio.nams.common.contract</code></li>
	    		<li><code>org.csstudio.nams.common.material</code></li>
	    		<li><code>org.csstudio.nams.common.plugin.utils</code></li>
	    		<li><code>org.csstudio.nams.common.service</code></li>
	    		<li><code>org.csstudio.nams.common.wam</code></li>
	    		<li><code>org.easymock</code></li>
	    	  </ul>
	    	</p>
	      </td>
	      <td valign="top" class="td2">
	        <p class="p1">Dieses Plug-in stellt gemeinsame Funktionalität für alle AMS Plugins zur Verfügung.</p>
	      </td>
	    </tr>
	    
	   	<!-- +++ Plugin org.csstudio.nams.documentation +++ -->
	    <tr>
	      <td valign="middle" class="td1">
	        <p class="p1"><code><b>org.csstudio.nams.documentation</b></code></p>
	        <p>
	        <p class="p1">Abhängigkeiten:
	          <ul>
	    		<li><code>keine</code></li>
	    	  </ul>
	    	</p>
	    	
	    	<p>
	        <p class="p1">Exportierte Packages:
	          <ul>
	    		<li><code>keine</code></li>
	    	  </ul>
	    	</p>
	      </td>
	      <td valign="top" class="td2">
	        <p class="p1">Dieses Plug-in ist verantwortlich für die Dokumentation. Es dokumentiert
	        die Abhängigkeit zwischen den Plugins sowie deren Beziehungen zueinander.</p>
	      </td>
	    </tr>
	    
	   	<!-- +++ Plugin org.csstudio.nams.service.logging +++ -->
	    <tr>
	      <td valign="middle" class="td1">
	        <p class="p1"><code><b>org.csstudio.nams.service.logging</b></code></p>
	        <p>
	        <p class="p1">Abhängigkeiten:
	          <ul>
	    		<li><code>org.eclipse.core.runtime</code></li>
	    		<li><code>org.cssstudio.platform</code></li>
	    	  </ul>
	    	</p>
	    	
	    	<p>
	        <p class="p1">Exportierte Packages:
	          <ul>
	    		<li><code>org.csstudio.nams.service.logging.declaration</code></li>
	    	  </ul>
	    	</p>
	      </td>
	      <td valign="top" class="td2">
	        <p class="p1">Dieses Plug-in stellt einen Logger bereit. Die Implementation des Loggers erlaubt einen leichten Austausch der Logger.</p>
	      </td>
	    </tr>
	    
	    <!-- +++ Plugin org.csstudio.nams.service.messaging +++ -->
	    <tr>
	      <td valign="middle" class="td1">
	        <p class="p1"><code><b>org.csstudio.nams.service.messaging</b></code></p>
	        <p>
	        <p class="p1">Abhängigkeiten:
	          <ul>
	    		<li><code>org.eclipse.core.runtime</code></li>
	    		<li><code>org.cssstudio.nams.common</code></li>
	    	  </ul>
	    	</p>
	    	
	    	<p>
	        <p class="p1">Exportierte Packages:
	          <ul>
	    		<li><code>org.csstudio.nams.service.messaging.declaration</code></li>
	    		<li><code>org.csstudio.nams.service.messaging.exceptions</code></li>
	    		<li><code>org.csstudio.nams.service.messaging.extensionPoint</code></li>
	    	  </ul>
	    	</p>
	      </td>
	      <td valign="top" class="td2">
	        <p class="p1">Dieses Plug-in ist verantwortlich für den Versand der Alarmnachrichten. 
	        Diese werden auf folgende Weise versendet:
	       		<ul>
	    		<li><code>JMS</code></li>
	    		<li><code>SMS</code></li>
	    		<li><code>Voicemail</code></li>
	    		<li><code>Email</code></li>
	    	  </ul>
	        </p>
	      </td>
	    </tr>
	    
	   	<!-- +++ Plugin org.csstudio.nams.service.messaging.impl.jms +++ -->
	    <tr>
	      <td valign="middle" class="td1">
	        <p class="p1"><code><b>org.csstudio.nams.service.messaging.impl.jms</b></code></p>
	        <p>
	        <p class="p1">Abhängigkeiten:
	          <ul>
	    		<li><code>org.eclipse.core.runtime</code></li>
	    		<li><code>org.csstudio.nams.service.messaging</code></li>
	    		<li><code>org.csstudio.nams.common</code></li>
	    		<li><code>org.csstudio.platform.libs.jms</code></li>
	    	  </ul>
	    	</p>
	    	
	    	<p>
	        <p class="p1">Exportierte Packages:
	          <ul>
	    		<li><code>keine</code></li>
	    	  </ul>
	    	</p>
	      </td>
	      <td valign="top" class="td2">
	        <p class="p1">Dieses Plug-in regelt den technischen Versand von JSM Nachrichten. Der Versand erfolg über:
	        	<ul>
	    		<li><code>Topics</code></li>
	    		<li><code>Queues</code></li>
	    	  </ul>
	        </p>
	      </td>
	    </tr>
	</tbody>
</table>
<p class="p3"><span class="s1"></span><br></p>
<br />
<h2>Bitte beachten</h2>
<p>
Der jetzige Distributor muss vor dem Decision Office gestartet werden.<br />
Das Office senden beim starten immer ein Sync Command an den Distributor und wartet auf Antwort.<br />
Wenn der Distributor beim starten auch auf das ReplicationState Flag (value = 2) achten würde könnte man das Problem so beheben. DistributorWork.initRplStateFlag()
</p>
</body>
</html>
