<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Execution Services</title>
</head>

<body>
<h1>Command-line Execution Services</h1>

<h2>Description</h2>
<p>Execution services allow to create pvmanager services based on command-line execution.
The service call will create a process from a given command-line, allows to
map some arguments, and returns the result. This allows to gather data
from the underlying os, IT infrastructure or anything that can be accessed
through a script.</p>

<p>The support includes a general purpose "exec/run" service method that
allows a generic command to be run. Other services can be created by writing
xml files.</p>

<h2>XML syntax</h2>

<p>Here is an example of an XML file describing an exec service:</p>

<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br>&lt;execService ver="1" name="execSample" description="A test service"&gt;<br>    &lt;methods&gt;<br>        &lt;method name="echo" description="A test script"&gt;<br>            &lt;command&gt;echo You selected #string#&lt;/command&gt;<br>            &lt;argument name="string" description="The string" type="VString"/&gt;<br>            &lt;result name="result" description="The result"/&gt;<br>        &lt;/method&gt;<br>        &lt;method name="script" description="My script"&gt;<br>            &lt;command&gt;myscript.py #value#"&lt;/command&gt;<br>            &lt;argument name="value" description="The value" type="VNumber"/&gt;<br>            &lt;result name="result" description="The script result"/&gt;<br>        &lt;/method&gt;<br>    &lt;/methods&gt;<br>&lt;/execService&gt;<br></pre>

<p>Each service method correspon to one command, with specific
mappings. A
service is a collection of different mehods.</p>

<table border="1">

  <tbody>
    <tr>
      <th>Syntax</th>
      <th>Description</th>
    </tr>
    <tr>
      <td><code>execService</code></td>
      <td>Version is required to be "1". Name and description of the
service are required<br>
      </td>
    </tr>
    <tr>
      <td><code>methods</code></td>
      <td>List of methods must be provided<br>
      </td>
    </tr>
    <tr>
      <td><code>method</code></td>
      <td>Each method must have a name and a description<br>
      </td>
    </tr>
    <tr>
      <td><code>command</code></td>
      <td>The command correspond to the actual command passed to the
shell. Each command can have multiple arguments noted by #argName#. The
arguments are substituted right before execution, in the order they are
defined in the argument list.<br>
      </td>
    </tr>
    <tr>
      <td><code>argument</code></td>
      <td>Arguments are optional. Each argument must have a name, a
description and a type. Supported type include: VString, VNumber. </td>
    </tr>
    <tr>
      <td><code>result</code></td>
      <td>Result must include a name and a description. If the output
can be parsed as a table, the service will return a VTable. Otherwise
will return a VString. </td>
    </tr>
  </tbody>
</table>

</body>
</html>